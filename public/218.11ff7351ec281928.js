"use strict";(self.webpackChunkfrontEndAngular=self.webpackChunkfrontEndAngular||[]).push([[218],{8218:(_,d,n)=>{n.r(d),n.d(d,{AuthModule:()=>F});var v=n(6895),u=n(5450),o=n(433),e=n(8256),m=n(5471),p=n(263);let h=(()=>{class t{ngOnChanges(){}constructor(i,r,l){this.usuarioService=i,this.authService=r,this.router=l,this.loginForm=new o.cw({nom_usuario:new o.NI("",[o.kI.required]),contrasenia:new o.NI("",[o.kI.required])}),this.displayModal=!1}ingresar(){this.authService.loginConNode(this.loginForm.value)}showModalDialog(){this.displayModal=!0}salir(){this.authService.logout(),this.router.navigate(["/auth/login"])}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(m.J),e.Y36(p.e),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],features:[e.TTD],decls:24,vars:2,consts:[[1,"container","mx-auto","my-3"],[1,"row"],[1,"col-md-12","text-center","text-center","my-4"],[1,"col-md-2"],[1,"col-md-4"],[1,"card"],["src","./../../../../assets/images/form.png","alt","",1,"card-img-top","mx-auto"],[1,"col-md-4","py-5","my-4"],[3,"formGroup"],[1,"form-label"],[1,"col-md-12","input-group","mb-4"],["formControlName","nom_usuario","type","text","placeholder","Usuario","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"input-group","mb-4"],["formControlName","contrasenia","type","password","placeholder","Contrase\xf1a","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control"],[1,"col-md-12"],["type","button",1,"btn","btn-outline-primary","col-md-12",3,"disabled","click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4,"Iniciar Sesion"),e.qZA()(),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"img",6),e.qZA()(),e.TgZ(9,"div",7)(10,"div",1)(11,"form",8)(12,"label",9),e._uU(13,"Ingresa tu usuario"),e.qZA(),e.TgZ(14,"div",10),e._UZ(15,"input",11),e.qZA(),e.TgZ(16,"label",9),e._uU(17,"Ingresa tu contrase\xf1a"),e.qZA(),e.TgZ(18,"div",12),e._UZ(19,"input",13),e.qZA(),e._UZ(20,"div",14),e.TgZ(21,"button",15),e.NdJ("click",function(){return r.ingresar()}),e._uU(22," Enviar "),e.qZA()()()(),e._UZ(23,"div",3),e.qZA()()),2&i&&(e.xp6(11),e.Q6J("formGroup",r.loginForm),e.xp6(10),e.Q6J("disabled",!r.loginForm.valid))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:[".test[_ngcontent-%COMP%]{border:1px solid blue}"]}),t})(),Z=(()=>{class t{constructor(i,r){this.authService=i,this.router=r,this.registroForm=new o.cw({nombre:new o.NI("",[o.kI.required]),paterno:new o.NI("",[o.kI.required]),materno:new o.NI("",[o.kI.required]),nom_usuario:new o.NI("",[o.kI.required]),contrasenia:new o.NI("",[o.kI.required]),correo:new o.NI("",[o.kI.required,o.kI.email])})}registrar(){this.authService.registro(this.registroForm.value).subscribe(i=>{console.log(i),this.router.navigate(["/admin/sistema/informacion"])},i=>{console.log(i)})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(p.e),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registro"]],decls:28,vars:2,consts:[[1,"container","mx-auto","my-3"],[1,"row"],[1,"col-md-12","text-center","text-center","my-4"],[1,"col-md-2"],[1,"col-md-4"],[1,"card"],["src","./../../../../assets/images/form.png","alt","",1,"card-img-top","mx-auto"],[1,"col-md-4","my-4"],[3,"formGroup"],[1,"col-md-12","input-group","mb-2"],["formControlName","nombre","type","text","placeholder","Ingresa tu nombre","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["formControlName","paterno","type","text","placeholder","Ingresa tu apellido paterno","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["formControlName","materno","type","text","placeholder","Ingresa tu apellido materno","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],["formControlName","nom_usuario","type","text","placeholder","Ingresa tu usuario","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[1,"input-group","mb-2"],["formControlName","contrasenia","type","password","placeholder","Ingresa tu contrase\xf1a","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control"],[1,"input-group","mb-4"],["formControlName","correo","type","email","placeholder","Ingresa tu correo","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control"],[1,"col-md-12"],["type","button",1,"btn","btn-outline-primary","col-md-12",3,"disabled","click"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4,"Registrate"),e.qZA()(),e._UZ(5,"div",3),e.TgZ(6,"div",4)(7,"div",5),e._UZ(8,"img",6),e.qZA()(),e.TgZ(9,"div",7)(10,"div",1)(11,"form",8)(12,"div",9),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",9),e._UZ(15,"input",11),e.qZA(),e.TgZ(16,"div",9),e._UZ(17,"input",12),e.qZA(),e.TgZ(18,"div",9),e._UZ(19,"input",13),e.qZA(),e.TgZ(20,"div",14),e._UZ(21,"input",15),e.qZA(),e.TgZ(22,"div",16),e._UZ(23,"input",17),e.qZA(),e._UZ(24,"div",18),e.TgZ(25,"button",19),e.NdJ("click",function(){return r.registrar()}),e._uU(26," Enviar "),e.qZA()()()(),e._UZ(27,"div",3),e.qZA()()),2&i&&(e.xp6(11),e.Q6J("formGroup",r.registroForm),e.xp6(14),e.Q6J("disabled",!r.registroForm.valid))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]}),t})();var c=n(805),g=n(1493),f=n(5593),b=n(1740);function y(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"p-button",6),e.NdJ("click",function(){e.CHM(i);const l=e.oxw();return e.KtG(l.verificarPin())}),e.qZA()}if(2&t){const i=e.oxw();e.Q6J("disabled",!i.pinForm.valid)}}const A=function(){return{width:"50vw"}},C=function(){return{width:"100%"}},I=[{path:"login",component:h},{path:"registro",component:Z},{path:"doble_autentificacion",component:(()=>{class t{constructor(i,r,l){this.router=i,this.usuarioService=r,this.messageService=l,this.displayModal=!0,this.pinForm=new o.cw({pin:new o.NI("",[o.kI.required,o.kI.max(9999),o.kI.min(1e3)])}),this.displayModal=!0,this.verificarToken()}verificarToken(){null===localStorage.getItem("user")&&(this.router.navigate(["auth/login"]),this.verificarPin())}verificarPin(){let i=localStorage.getItem("user")?.toString();this.usuarioService.mostrar().subscribe(r=>{let l=!1;for(let s=0;s<r.length;s++)i===r[s].nom_usuario&&this.pinForm.value.pin===r[s].pin&&(l=!0);this.displayModal=!1,this.router.navigate(["admin"]),this.displayModal=!1,this.pinForm.reset()},r=>{})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(u.F0),e.Y36(m.J),e.Y36(c.ez))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-doble-autentificacion"]],features:[e._Bn([c.ez])],decls:11,vars:11,consts:[["header","Autentificaci\xf3n doble",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"form-label"],[1,"flex"],["type","number","pInputText","","formControlName","pin"],["pTemplate","footer"],["icon","pi pi-check","label","Verificar Pin","styleClass","p-button-text",3,"disabled","click"]],template:function(i,r){1&i&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(s){return r.displayModal=s}),e.TgZ(1,"p"),e._uU(2," Se le envio un c\xf3digo PIN de 4 digitos a su correo electronico. "),e._UZ(3,"br"),e._uU(4," Introduzca ese pin para iniciar sesi\xf3n "),e.qZA(),e.TgZ(5,"form",1)(6,"label",2),e._uU(7,"Ingrese PIN"),e.qZA(),e.TgZ(8,"div",3),e._UZ(9,"input",4),e.qZA()(),e.YNc(10,y,1,1,"ng-template",5),e.qZA()),2&i&&(e.Akn(e.DdM(9,A)),e.Q6J("visible",r.displayModal)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(5),e.Q6J("formGroup",r.pinForm),e.xp6(4),e.Akn(e.DdM(10,C)))},dependencies:[o._Y,o.Fj,o.wV,o.JJ,o.JL,o.sg,o.u,g.V,c.jx,f.zx,b.o]}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(I),u.Bz]}),t})();var U=n(6264);let F=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,T,o.UX,g.S,f.hJ,b.j,U.I]}),t})()}}]);